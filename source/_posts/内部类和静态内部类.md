---
title: 非静态内部类和静态内部类
date: 2021-04-22 11:21:49
tags: Java
---
<!--more-->

# 非静态内部类

- 非静态内部类可以直接访问外部类的实例变量、类变量、实例方法、类方法。这是因为在非静态内部类对象里，保存了一个它所寄生的外部类对象的引用（非静态内部类实例必须寄生在外部类实例里）。也就是说，非静态内部类对象总有一个隐式引用，指向了创建它的外部类对象。
- 非静态内部类的成员只是在非静态内部类范围是可知的，并不能被外部类直接使用，如果要访问非静态内部类的成员必须显示创建非静态内部类对象来调用访问！
- 根据静态成员不能访问非静态成员的规则，外部类的静态方法不能访问非静态内部类。
- 非静态内部类不允许定义静态成员

# 静态内部类

- 静态内部类属于外部类本身，但是不属于外部类的任何对象
- 静态内部类不能访问外部类的实例成员，只能访问外部类的类成员。
- 外部类可以使用静态内部类的类名作为调用者来访问静态内部类的类成员，也可以使用静态内部类对象访问其实例成员

# 区别

非静态内部类编译后隐式保存着外部类的引用（就算外部类对象没用了也GC不掉），但是静态内部类没有。

<https://www.cnblogs.com/GrimMjx/p/10105626.html>